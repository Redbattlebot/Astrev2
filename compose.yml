# Updated for SurrealDB Cloud - Local database service removed
services:
    economy:
        build: 
            context: .
            dockerfile: Dockerfile
        ports:
            - "2009:2009"
        restart: unless-stopped
        environment:
            - DB_URL=${DB_URL}
            - SURREAL_USER=${SURREAL_USER}
            - SURREAL_PASS=${SURREAL_PASS}
            - SURREAL_NS=${SURREAL_NS}
            - SURREAL_DB=${SURREAL_DB}
        volumes:
            - ./data/economy:/data/economy

    site:
        build: 
            context: .
            dockerfile: Dockerfile
        ports:
            - "10000:10000"
        restart: unless-stopped
        # Dependency on local 'database' removed to prevent startup crashes
        depends_on:
            - economy
        environment:
            - ORIGIN=https://astrev.onrender.com
            - DATABASE_URL=${DB_URL}
